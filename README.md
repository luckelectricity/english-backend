这是一个非常清晰的战略时刻。我们将原本庞大的想法拆解为 **V1（核心基础版）** 和 **V2（AI 增强版）**。

这样做的好处是：**V1 让你在一周内就能用起来，建立信心；V2 让你深入钻研 AI 和复杂业务逻辑。**

这是为您规划的详细路线图：

---

### 🚀 V1 版本：Context Collector (语境采集器)
**核心目标：** 打通“采集 -> 存储 -> 基础复习”的全链路。让数据先跑起来。
**核心场景：** 你自己在浏览技术文档时，顺手把生词和**语境**存下来。

#### 1. 浏览器插件 (Chrome Extension)
* **交互：**
    * **划词高亮：** 选中单词/句子后，显示浮窗。
    * **AI 极速释义：** 调用后端 API（DeepSeek），展示中文意思。
    * **智能锁定：** AI 根据当前句子，自动选择最合适的那个释义（例如 "Service" 是“服务”还是“Kubernetes 服务”）。
    * **一键入库：** 点击保存，将 `Word` (单词) + `Meaning` (释义) + `Context Sentence` (原句) + `Source URL` (来源) 发送给后端。
* **技术点：** `Content Script` 注入，`Shadow DOM` 隔离样式，跨域请求处理。

#### 2. 后端服务 (NestJS + SQLite)
* **基础设施：**
    * NestJS 框架搭建。
    * SQLite 数据库配置（开启 WAL 模式）。
    * Prisma Schema 设计（Word, Context, User 表）。
* **核心逻辑：**
    * **API 聚合：** 封装 DeepSeek API，处理 Prompt（提示词）。
    * **查重逻辑：** 如果库里已经有了这个词，只是增加一个新的 Context，而不是新建单词。
* **技术点：** Prisma ORM 使用，DTO 参数校验，简单的 API Key 鉴权。

#### 3. Web端 (React Admin)
* **功能：**
    * **Dashboard：** 显示“今日采集单词数”、“累计单词数”。
    * **生词本列表：** 表格展示，支持搜索和删除。
    * **基础复习模式：** 这是一个简单的“翻卡片”。正面是**挖空的句子**（信息差），背面是**单词+释义**。
* **技术点：** React 组件化 (Shadcn/ui)，状态管理 (Zustand)。

**🏁 V1 交付物：** 一个你自己能每天用的浏览器插件和管理后台。

---

### ✨ V2 版本：AI Story Weaver (AI 编织者)
**核心目标：** 利用积累的数据，生成“个性化内容”。引入“亲子模式”。
**核心场景：** 周末生成一篇技术微小说给自己看；给孩子生成一张奥特曼单词涂色纸。

#### 1. 后端增强 (The Brain)
* **N+1 生成引擎：**
    * 逻辑：从 SQLite 抽取 10 个生词 + 5 个熟词。
    * AI：调用 DeepSeek 生成一篇短文（Story/News）。
* **TTS 服务 (听力)：**
    * 集成 `edge-tts` (微软)，将生成的文章转为 MP3。
    * 将音频文件存储在本地文件系统，数据库存路径。
* **PDF 生成服务：**
    * 集成 `pdfkit` 或类似库。
    * 根据单词和 AI 生成的 DALL-E 风格线稿（如果是 DeepSeek 暂不支持生图，可暂时留白或用开源图库），排版生成 A4 练习纸。

#### 2. Web端增强 (Interactive Hub)
* **Chat Review (聊天式复习)：**
    * 取代 V1 的翻卡片。变成一个 AI 对话框，AI 出题，你打字/语音回答。
* **Kids Dashboard (家长控制台)：**
    * 手动输入/导入孩子学校的单词。
    * 配置生成主题（如“汪汪队”、“我的世界”）。
    * **下载按钮：** 下载生成的 PDF 练习纸。
* **Audio Player：**
    * 在文章页面增加浮动播放器，支持倍速播放生成的 TTS 音频。

#### 3. 插件端增强
* **稍后读模式：** 增加一个开关，开启后划词不弹窗，只静默保存，读完文章再统一处理。

**🏁 V2 交付物：** 一个全家人都能用的 AI 英语私教平台。

---

### 📅 开发顺序建议

1.  **本周任务 (Database First)：**
    * 先别急着写页面。
    * 用 NestJS + Prisma 把 SQLite 跑通。
    * 写好 `schema.prisma`，这是地基。
    * 写一个脚本测试 DeepSeek API 的连通性。

2.  **下周任务 (Plugin First)：**
    * 搞定浏览器插件的开发环境 (CRXJS)。
    * 实现“划词 -> 发给后端 -> 存库”这个最简单的闭环。

你觉得这个分期节奏合理吗？如果 OK，我们可以马上开始**第一步：设计 `schema.prisma` 数据库模型**。这会直接决定你后面代码怎么写。